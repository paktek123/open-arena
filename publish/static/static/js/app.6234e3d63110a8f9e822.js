webpackJsonp([2,0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(16),s=r(o),a=n(66),u=r(a),i=n(65),l=r(i),d=n(47),c=r(d),f=n(115),m=r(f),p=n(44),v=r(p),g=n(118),_=r(g);s.default.use(m.default,c.default),s.default.use(v.default),c.default.defaults.baseURL="http://localhost:3000",new s.default({el:"#app",router:l.default,store:u.default,components:{"main-nav":_.default}})},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),s=r(o),a=n(124),u=r(a),i=n(116),l=r(i),d=n(117),c=r(d),f=n(119),m=r(f);s.default.use(u.default);var p=[{path:"/",component:l.default},{path:"/login",component:c.default},{path:"/register",component:m.default}];t.default=new u.default({routes:p})},66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),s=r(o),a=n(125),u=r(a),i=n(67),l=r(i);s.default.use(u.default),t.default=new u.default.Store({modules:{appState:l.default}})},67:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(72),s=r(o),a=n(16),u=r(a),i={state:{isLoggedIn:!1},mutations:{login:function(e){e.pending=!0},loginSuccess:function(e){e.isLoggedIn=!0,e.pending=!1},logout:function(e){e.isLoggedIn=!1}},actions:{login:function(e,t){var n=e.commit;n("login"),u.default.axios.post("api/login",{username:t.username,password:t.password}).then(function(e){console.log(e),n("loginSuccess")},function(e){console.log(["error",e])})},logout:function(e){var t=e.commit;t("logout")},register:function(e){return new s.default(function(t,n){u.default.axios.post("api/register",{username:e.username,password:e.password,email:e.email}).then(function(e){t(e)},function(e){n(e)})})}},getters:{isLoggedIn:function(e){return e.isLoggedIn}}};t.default=i},68:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Home"}},69:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Login",data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then(function(){e.$router.push("/")})}}}},70:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MainNav",methods:{logout:function(){this.$store.dispatch("logout")}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}}}},71:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44);t.default={name:"Register",data:function(){return{email:"",username:"",password:"",registrationErrors:[]}},validators:{email:function(e){return r.Validator.value(e).required().email()},username:function(e){return r.Validator.value(e).required()},password:function(e){return r.Validator.value(e).required()}},methods:{register:function(){var e=this;this.$validate().then(function(t){t&&e.$store.dispatch("register",{email:e.email,username:e.username,password:e.password}).then(function(){e.$router.push("/home")}).catch(function(t){e.registrationErrors=t})})}}}},109:function(e,t){},110:function(e,t){},116:function(e,t,n){var r=n(15)(n(68),n(121),null,null);e.exports=r.exports},117:function(e,t,n){n(110);var r=n(15)(n(69),n(123),null,null);e.exports=r.exports},118:function(e,t,n){var r=n(15)(n(70),n(122),null,null);e.exports=r.exports},119:function(e,t,n){n(109);var r=n(15)(n(71),n(120),null,null);e.exports=r.exports},120:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("form",{ref:"registerForm",on:{submit:function(t){t.preventDefault(),e.register(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],ref:"email",attrs:{type:"email",placeholder:"Email",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),n("div",{staticClass:"message"},[e._v(e._s(e.validation.firstError("email")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],ref:"username",attrs:{type:"text",placeholder:"Username",name:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("div",{staticClass:"message"},[e._v(e._s(e.validation.firstError("username")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",placeholder:"Password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("div",{staticClass:"message"},[e._v(e._s(e.validation.firstError("password")))]),e._v(" "),n("button",{ref:"registerSubmit",attrs:{type:"submit"}},[e._v("Register")])])])},staticRenderFns:[]}},121:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  Welcome to Open-Arena\n")])},staticRenderFns:[]}},122:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" "),e.isLoggedIn?e._e():n("router-link",{ref:"login",attrs:{to:"/login"}},[e._v("Login")]),e._v(" "),e.isLoggedIn?n("a",{ref:"logout",attrs:{href:"#"},on:{click:e.logout}},[e._v("Logout")]):e._e()],1)},staticRenderFns:[]}},123:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("form",{ref:"loginForm",on:{submit:function(t){t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],ref:"username",attrs:{type:"text",placeholder:"username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"password",attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("button",{ref:"loginSubmit",attrs:{type:"submit"}},[e._v("Login")])])])},staticRenderFns:[]}},126:function(e,t){}});
//# sourceMappingURL=app.6234e3d63110a8f9e822.js.map